{"id":"guide/http-configure-http-url-parameters","title":"HTTP - Configure URL parameters","contents":"\n\n\n<div class=\"github-links\">\n  <a href=\"https://github.com/ng-docs/angular-cn/edit/cn/aio/content/guide/http-configure-http-url-parameters.md?message=docs%3A%20请简述你的修改...\" aria-label=\"提供编辑建议\" title=\"提供编辑建议\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">mode_edit</i></a>\n</div>\n\n\n<div class=\"content\">\n  <h1 id=\"http---configure-url-parameters\" translation-result=\"on\">HTTP - 配置 URL 参数<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/http-configure-http-url-parameters#http---configure-url-parameters\"><i class=\"material-icons\">link</i></a></h1><h1 translation-origin=\"off\">HTTP - Configure URL parameters<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/http-configure-http-url-parameters#http---configure-url-parameters\"><i class=\"material-icons\">link</i></a></h1>\n\n<p translation-result=\"on\">使用 <code><a href=\"api/common/http/HttpParams\" class=\"code-anchor\">HttpParams</a></code> 类和 <code>params</code> 选项在你的 <code><a href=\"api/common/http/HttpRequest\" class=\"code-anchor\">HttpRequest</a></code> 中添加 URL 查询字符串。</p><p translation-origin=\"off\">Use the <code><a href=\"api/common/http/HttpParams\" class=\"code-anchor\">HttpParams</a></code> class with the <code>params</code> request option to add URL query strings in your <code><a href=\"api/common/http/HttpRequest\" class=\"code-anchor\">HttpRequest</a></code>.</p>\n\n<h2 id=\"create-url-parameter-using-the-search-method\" translation-result=\"on\">使用搜索方法创建 URL 参数<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/http-configure-http-url-parameters#create-url-parameter-using-the-search-method\"><i class=\"material-icons\">link</i></a></h2><h2 translation-origin=\"off\">Create URL parameter using the search method<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/http-configure-http-url-parameters#create-url-parameter-using-the-search-method\"><i class=\"material-icons\">link</i></a></h2>\n\n<p translation-result=\"on\">下面的例子中，<code>searchHeroes()</code> 方法用于查询名字中包含搜索词的英雄。</p><p translation-origin=\"off\">The following example, the <code>searchHeroes()</code> method queries for heroes whose names contain the search term.</p>\n\n<p translation-result=\"on\">首先导入 <code><a href=\"api/common/http/HttpParams\" class=\"code-anchor\">HttpParams</a></code> 类。</p><p translation-origin=\"off\">Start by importing <code><a href=\"api/common/http/HttpParams\" class=\"code-anchor\">HttpParams</a></code> class.</p>\n\n<code-example hidecopy=\"\" language=\"typescript\">\n\nimport {<a href=\"api/common/http/HttpParams\" class=\"code-anchor\">HttpParams</a>} from \"@angular/common/<a href=\"api/common/http\" class=\"code-anchor\">http</a>\";\n\n</code-example>\n<code-example linenums=\"false\" path=\"http/src/app/heroes/heroes.service.ts\" region=\"searchHeroes\">\n/* GET heroes whose name contains search term */\nsearchHeroes(term: string): Observable&lt;Hero[]&gt; {\n  term = term.trim();\n\n  // Add safe, URL encoded search parameter if there is a search term\n  const options = term ?\n   { params: new <a href=\"api/common/http/HttpParams\" class=\"code-anchor\">HttpParams</a>().set('name', term) } : {};\n\n  return this.http.get&lt;Hero[]&gt;(this.heroesUrl, options)\n    .pipe(\n      catchError(this.handleError&lt;Hero[]&gt;('searchHeroes', []))\n    );\n}\n\n</code-example>\n<p translation-result=\"on\">如果有搜索词，代码会用进行过 URL 编码的搜索参数来构造一个 options 对象。比如，如果搜索词是 \"cat\"，那么 GET 请求的 URL 就是 <code>api/heroes?name=cat</code>。</p><p translation-origin=\"off\">If there is a search term, the code constructs an options object with an HTML URL-encoded search parameter.\nIf the term is \"cat\", for example, the GET request URL would be <code>api/heroes?name=cat</code>.</p>\n\n<p translation-result=\"on\"><code><a href=\"api/common/http/HttpParams\" class=\"code-anchor\">HttpParams</a></code> 是不可变对象。如果需要更新选项，请保留 <code>.set()</code> 方法的返回值。</p><p translation-origin=\"off\">The <code><a href=\"api/common/http/HttpParams\" class=\"code-anchor\">HttpParams</a></code> object is immutable.\nIf you need to update the options, save the returned value of the <code>.set()</code> method.</p>\n\n<h2 id=\"create-url-parameters-from-a-query\" translation-result=\"on\">从查询创建 URL 参数<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/http-configure-http-url-parameters#create-url-parameters-from-a-query\"><i class=\"material-icons\">link</i></a></h2><h2 translation-origin=\"off\">Create URL parameters from a query<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/http-configure-http-url-parameters#create-url-parameters-from-a-query\"><i class=\"material-icons\">link</i></a></h2>\n\n<p translation-result=\"on\">你也可以使用 <code>fromString</code> 变量从查询字符串中直接创建 HTTP 参数：</p><p translation-origin=\"off\">You can also create HTTP parameters directly from a query string by using the <code>fromString</code> variable:</p>\n\n<code-example hidecopy=\"\" language=\"typescript\">\n\nconst params = new <a href=\"api/common/http/HttpParams\" class=\"code-anchor\">HttpParams</a>({fromString: 'name=foo'});\n\n</code-example>\n<p><a id=\"intercepting-requests-and-responses\"></a></p>\n\n  <div class=\"reviewed\">最后复查时间：11/8/2022</div>\n</div>\n\n\n<!-- links to this doc:\n-->\n<!-- links from this doc:\n - api/common/http\n - api/common/http/HttpParams\n - api/common/http/HttpRequest\n - guide/http-configure-http-url-parameters#create-url-parameter-using-the-search-method\n - guide/http-configure-http-url-parameters#create-url-parameters-from-a-query\n - guide/http-configure-http-url-parameters#http---configure-url-parameters\n - guide/http-configure-http-url-parameters#http---配置-url-参数\n - guide/http-configure-http-url-parameters#从查询创建-url-参数\n - guide/http-configure-http-url-parameters#使用搜索方法创建-url-参数\n - https://github.com/ng-docs/angular-cn/edit/cn/aio/content/guide/http-configure-http-url-parameters.md?message=docs%3A%20请简述你的修改...\n-->"}