{"id":"guide/event-binding","title":"Event binding","contents":"\n\n\n<div class=\"github-links\">\n  <a href=\"https://github.com/ng-docs/angular-cn/edit/cn/aio/content/guide/event-binding.md?message=docs%3A%20请简述你的修改...\" aria-label=\"提供编辑建议\" title=\"提供编辑建议\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">mode_edit</i></a>\n</div>\n\n\n<div class=\"content\">\n  <h1 id=\"event-binding\" translation-result=\"on\">事件绑定<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/event-binding#event-binding\"><i class=\"material-icons\">link</i></a></h1><h1 translation-origin=\"off\">Event binding<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/event-binding#event-binding\"><i class=\"material-icons\">link</i></a></h1>\n\n<p translation-result=\"on\">通过事件绑定，你可以侦听并响应用户操作，比如按键、鼠标移动、点击和触摸。</p><p translation-origin=\"off\">Event binding lets you listen for and respond to user actions such as keystrokes, mouse movements, clicks, and touches.</p>\n\n<div class=\"alert is-helpful\">\n<p translation-result=\"on\">包含本指南中代码片段的可工作范例，参阅<live-example></live-example>。</p><p translation-origin=\"off\">See the <live-example></live-example> for a working example containing the code snippets in this guide.</p>\n\n</div>\n<h2 id=\"prerequisites\" translation-result=\"on\">前提条件<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/event-binding#prerequisites\"><i class=\"material-icons\">link</i></a></h2><h2 translation-origin=\"off\">Prerequisites<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/event-binding#prerequisites\"><i class=\"material-icons\">link</i></a></h2>\n\n<ul>\n<li>\n<p translation-result=\"on\"><a href=\"guide/architecture-components\">组件基础</a></p><p translation-origin=\"off\"><a href=\"guide/architecture-components\">Basics of components</a></p>\n\n</li>\n<li>\n<p translation-result=\"on\"><a href=\"guide/glossary#template\">模板基础</a></p><p translation-origin=\"off\"><a href=\"guide/glossary#template\">Basics of templates</a></p>\n\n</li>\n<li>\n<p translation-result=\"on\"><a href=\"guide/binding-syntax\">绑定语法</a></p><p translation-origin=\"off\"><a href=\"guide/binding-syntax\">Binding syntax</a></p>\n\n</li>\n<li>\n<p translation-result=\"on\"><a href=\"guide/template-statements\">模板语句</a></p><p translation-origin=\"off\"><a href=\"guide/template-statements\">Template statements</a></p>\n\n</li>\n</ul>\n<h2 id=\"binding-to-events\" translation-result=\"on\">绑定到事件<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/event-binding#binding-to-events\"><i class=\"material-icons\">link</i></a></h2><h2 translation-origin=\"off\">Binding to events<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/event-binding#binding-to-events\"><i class=\"material-icons\">link</i></a></h2>\n\n<p translation-result=\"on\">要绑定到事件，你可以使用 Angular 事件绑定语法。此语法由等号左侧括号中的目标事件名称和右侧带引号的模板语句组成。</p><p translation-origin=\"off\">To bind to an event you use the Angular event binding syntax.\nThis syntax consists of a target event name within parentheses to the left of an equal sign, and a quoted template statement to the right.</p>\n\n<p translation-result=\"on\">创建以下示例；目标事件名是 <code>click</code>，模板语句是 <code>onSave()</code>。</p><p translation-origin=\"off\">Create the following example; the target event name is <code>click</code> and the template statement is <code>onSave()</code>.</p>\n\n<code-example language=\"html\" header=\"Event binding syntax\">\n&lt;button (click)=\"onSave()\"&gt;Save&lt;/button&gt;\n</code-example>\n<p translation-result=\"on\">事件绑定侦听按钮的单击事件，并在发生单击时调用组件的 <code>onSave()</code>。</p><p translation-origin=\"off\">The event binding listens for the button's click events and calls the component's <code>onSave()</code> method whenever a click occurs.</p>\n\n<div class=\"lightbox\">\n  <img src=\"generated/images/guide/template-syntax/syntax-diagram.svg\" alt=\"Syntax diagram\" width=\"600\" height=\"125\">\n</div>\n<h3 id=\"determining-an-event-target\" translation-result=\"on\">确定事件目标<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/event-binding#determining-an-event-target\"><i class=\"material-icons\">link</i></a></h3><h3 translation-origin=\"off\">Determining an event target<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/event-binding#determining-an-event-target\"><i class=\"material-icons\">link</i></a></h3>\n\n<p translation-result=\"on\">为了确定事件目标，Angular 会检查目标事件的名称是否与已知指令的 event 属性匹配。</p><p translation-origin=\"off\">To determine an event target, Angular checks if the name of the target event matches an event property of a known directive.</p>\n\n<p translation-result=\"on\">创建以下示例：（Angular 会检查 <code>myClick</code> 是否是自定义 <code>ClickDirective</code> 上的事件）</p><p translation-origin=\"off\">Create the following example: (Angular checks to see if <code>myClick</code> is an event on the custom <code>ClickDirective</code>)</p>\n\n<code-example path=\"event-binding/src/app/app.component.html\" region=\"custom-directive\" header=\"src/app/app.component.html\">\n&lt;h4&gt;myClick is an event on the custom ClickDirective:&lt;/h4&gt;\n&lt;button type=\"button\" (myClick)=\"clickMessage=$event\" clickable&gt;click with myClick&lt;/button&gt;\n{{clickMessage}}\n\n</code-example>\n<p translation-result=\"on\">如果目标事件名称 <code>myClick</code> 与 <code>ClickDirective</code> 的输出属性不匹配，Angular 将改为绑定到基础 DOM 元素上的 <code>myClick</code> 事件。</p><p translation-origin=\"off\">If the target event name, <code>myClick</code> fails to match an output property of <code>ClickDirective</code>, Angular will instead bind to the <code>myClick</code> event on the underlying DOM element.</p>\n\n<h2 id=\"binding-to-passive-events\" translation-result=\"on\">绑定到被动事件<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/event-binding#binding-to-passive-events\"><i class=\"material-icons\">link</i></a></h2><h2 translation-origin=\"off\">Binding to passive events<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/event-binding#binding-to-passive-events\"><i class=\"material-icons\">link</i></a></h2>\n\n<p translation-result=\"on\">这是一项高级技术，对于大多数应用程序来说不是必需的。如果你想优化导致性能问题的频繁发生的事件，可能会发现这很有用。</p><p translation-origin=\"off\">This is an advanced technique that is not necessary for most applications. You may find this useful if you want to optimize frequently occurring events that are causing performance problems.</p>\n\n<p translation-result=\"on\">Angular 还支持被动事件侦听器。比如，使用以下步骤使滚动事件变为被动的。</p><p translation-origin=\"off\">Angular also supports passive event listeners. For example, use the following steps to make a scroll event passive.</p>\n\n<ol>\n<li>\n<p translation-result=\"on\">在 <code>src</code> 目录下创建一个文件 <code>zone-flags.ts</code>。</p><p translation-origin=\"off\">Create a file <code>zone-flags.ts</code> under <code>src</code> directory.</p>\n\n</li>\n<li>\n<p translation-result=\"on\">将以下行添加到此文件中。</p><p translation-origin=\"off\">Add the following line into this file.</p>\n\n<code-example language=\"typescript\">\n(window as any)['__zone_symbol__PASSIVE_EVENTS'] = ['scroll'];\n</code-example>\n</li>\n<li>\n<p translation-result=\"on\">在 <code>src/polyfills.ts</code> 文件中，在导入 zone.js 之前，先导入新创建的 <code>zone-flags</code>。</p><p translation-origin=\"off\">In the <code>src/polyfills.ts</code> file, before importing zone.js, import the newly created <code>zone-flags</code>.</p>\n\n<code-example language=\"typescript\">\nimport './zone-flags';\nimport 'zone.js';  // Included with Angular CLI.\n</code-example>\n</li>\n</ol>\n<p translation-result=\"on\">在这些步骤之后，如果你为 <code>scroll</code> 事件添加事件侦听器，侦听器就会是 <code>passive</code> 的。</p><p translation-origin=\"off\">After those steps, if you add event listeners for the <code>scroll</code> event, the listeners will be <code>passive</code>.</p>\n\n<h2 id=\"binding-to-keyboard-events\" translation-result=\"on\">绑定到键盘事件<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/event-binding#binding-to-keyboard-events\"><i class=\"material-icons\">link</i></a></h2><h2 translation-origin=\"off\">Binding to keyboard events<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/event-binding#binding-to-keyboard-events\"><i class=\"material-icons\">link</i></a></h2>\n\n<p translation-result=\"on\">你可以用 Angular 的绑定语法绑定到键盘事件。你可以指定要绑定到键盘事件的键值或代码。它们的 <code>key</code> 和 <code>code</code> 字段是浏览器键盘事件对象的原生部分。默认情况下，事件绑定假定你要使用键盘事件上的 <code>key</code> 字段。你还可以用 <code>code</code> 字段。</p><p translation-origin=\"off\">You can bind to keyboard events using Angular's binding syntax. You can specify the key or code that you would like to bind to keyboard events. They <code>key</code> and <code>code</code> fields are a native part of the browser keyboard event object. By default, event binding assumes you want to use the <code>key</code> field on the keyboard event. You can also use the <code>code</code> field.</p>\n\n<p translation-result=\"on\">键的组合可以用点（<code>.</code>）分隔。例如，<code>keydown.enter</code> 将允许你将事件绑定到 <code>enter</code> 键。你还可以用修饰键，例如 <code>shift</code> 、 <code>alt</code> 、 <code>control</code> 和 Mac 中的 <code>command</code> 键。以下示例展示了如何将键盘事件绑定到 <code>keydown.shift.t</code>。</p><p translation-origin=\"off\">Combinations of keys can be separated by a <code>.</code> (period). For example, <code>keydown.enter</code> will allow you to bind events to the <code>enter</code> key. You can also use modifier keys, such as <code>shift</code>, <code>alt</code>, <code>control</code>, and the <code>command</code> keys from Mac. The following example shows how to bind a keyboard event to <code>keydown.shift.t</code>.</p>\n\n<code-example language=\"typescript\">\n&lt;input (keydown.shift.t)=\"onKeydown($event)\" /&gt;\n</code-example>\n<p translation-result=\"on\">根据操作系统的不同，某些组合键可能会创建特殊字符，而不是你期望的组合键。例如，当你同时使用 option 和 shift 键时，MacOS 会创建特殊字符。如果你绑定到 <code>keydown.shift.alt.t</code>，在 macOS 上，该组合会生成 <code>ˇ</code> 而不是 <code>t</code>，它与绑定不匹配，也不会触发你的事件处理程序。要绑定到 macOS 上的 <code>keydown.shift.alt.t</code>，请使用 <code>code</code> 键盘事件字段来获取正确的行为，例如此示例中显示的 <code>keydown.code.shiftleft.altleft.keyt</code>。</p><p translation-origin=\"off\">Depending on the operating system, some key combinations might create special characters instead of the key combination that you expect. MacOS, for example, creates special characters when you use the option and shift keys together. If you bind to <code>keydown.shift.alt.t</code>, on macOS, that combination produces a <code>ˇ</code> character instead of a <code>t</code>, which doesn't match the binding and won't trigger your event handler. To bind to <code>keydown.shift.alt.t</code> on macOS, use the <code>code</code> keyboard event field to get the correct behavior, such as <code>keydown.code.shiftleft.altleft.keyt</code> shown in this example.</p>\n\n<code-example language=\"typescript\">\n&lt;input (keydown.code.shiftleft.altleft.keyt)=\"onKeydown($event)\" /&gt;\n</code-example>\n<p translation-result=\"on\"><code>code</code> 字段比 <code>key</code> 字段更具体。<code>key</code> 字段总是会报告 <code>shift</code>，而 <code>code</code> 字段将指明 <code>leftshift</code> 或 <code>rightshift</code>。使用 <code>code</code> 字段时，你可能需要添加单独的绑定以捕获你想要的所有行为。使用 <code>code</code> 字段时无需处理操作系统特有的行为，例如 macOS 上的 <code>shift + option</code> 行为。</p><p translation-origin=\"off\">The <code>code</code> field is more specific than the <code>key</code> field. The <code>key</code> field always reports <code>shift</code>, whereas the <code>code</code> field will specify <code>leftshift</code> or <code>rightshift</code>. When using the <code>code</code> field, you might need to add separate bindings to catch all the behaviors you want. Using the <code>code</code> field avoids the need to handle OS specific behaviors such as the <code>shift + option</code> behavior on macOS.</p>\n\n<p translation-result=\"on\">有关更多信息，请访问<a href=\"https://developer.mozilla.org/en-US/docs/Web/API/UI_Events/Keyboard_event_key_values\">键值</a>和<a href=\"https://developer.mozilla.org/en-US/docs/Web/API/UI_Events/Keyboard_event_code_values\">键码</a>的完整参考，以帮助你构建事件字符串。</p><p translation-origin=\"off\">For more information, visit the full reference for <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/UI_Events/Keyboard_event_key_values\">key</a> and <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/UI_Events/Keyboard_event_code_values\">code</a> to help build out your event strings.</p>\n\n<h2 id=\"whats-next\" translation-result=\"on\">接下来呢？<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/event-binding#whats-next\"><i class=\"material-icons\">link</i></a></h2><h2 translation-origin=\"off\">What's next<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/event-binding#whats-next\"><i class=\"material-icons\">link</i></a></h2>\n\n<ul>\n<li>\n<p translation-result=\"on\">关于事件绑定工作原理的更多信息，请参阅<a href=\"guide/event-binding-concepts\">事件绑定工作原理</a>。</p><p translation-origin=\"off\">For more information on how event binding works, see <a href=\"guide/event-binding-concepts\">How event binding works</a>.</p>\n\n</li>\n<li>\n<p translation-result=\"on\"><a href=\"guide/property-binding\">property 绑定</a></p><p translation-origin=\"off\"><a href=\"guide/property-binding\">Property binding</a></p>\n\n</li>\n<li>\n<p translation-result=\"on\"><a href=\"guide/interpolation\">文本插值</a></p><p translation-origin=\"off\"><a href=\"guide/interpolation\">Text interpolation</a></p>\n\n</li>\n<li>\n<p translation-result=\"on\"><a href=\"guide/two-way-binding\">双向绑定</a></p><p translation-origin=\"off\"><a href=\"guide/two-way-binding\">Two-way binding</a></p>\n\n</li>\n</ul>\n\n  <div class=\"reviewed\">最后复查时间：5/10/2022</div>\n</div>\n\n\n<!-- links to this doc:\n - extended-diagnostics/NG8101\n - guide/ajs-quick-reference\n - guide/binding-overview\n - guide/built-in-directives\n - guide/example-apps-list\n - guide/glossary\n - guide/inputs-outputs\n - guide/interpolation\n - guide/property-binding\n - guide/template-overview\n - guide/template-syntax\n - guide/two-way-binding\n - guide/user-input\n - tutorial/tour-of-heroes/toh-pt2\n - tutorial/tour-of-heroes/toh-pt4\n-->\n<!-- links from this doc:\n - guide/architecture-components\n - guide/binding-syntax\n - guide/event-binding#binding-to-events\n - guide/event-binding#binding-to-keyboard-events\n - guide/event-binding#binding-to-passive-events\n - guide/event-binding#determining-an-event-target\n - guide/event-binding#event-binding\n - guide/event-binding#prerequisites\n - guide/event-binding#whats-next\n - guide/event-binding#事件绑定\n - guide/event-binding#前提条件\n - guide/event-binding#接下来呢\n - guide/event-binding#确定事件目标\n - guide/event-binding#绑定到事件\n - guide/event-binding#绑定到被动事件\n - guide/event-binding#绑定到键盘事件\n - guide/event-binding-concepts\n - guide/glossary#template\n - guide/interpolation\n - guide/property-binding\n - guide/template-statements\n - guide/two-way-binding\n - https://developer.mozilla.org/en-US/docs/Web/API/UI_Events/Keyboard_event_code_values\n - https://developer.mozilla.org/en-US/docs/Web/API/UI_Events/Keyboard_event_key_values\n - https://github.com/ng-docs/angular-cn/edit/cn/aio/content/guide/event-binding.md?message=docs%3A%20请简述你的修改...\n-->"}