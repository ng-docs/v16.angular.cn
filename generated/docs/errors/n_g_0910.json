{"id":"errors/NG0910","title":"NG0910: Unsafe bindings on an iframe element","contents":"<div class=\"github-links\">\n  <a href=\"https://github.com/ng-docs/angular-cn/edit/cn/aio/content/errors/NG0910.md?message=docs(...)%3A%20请简述你的修改...\" aria-label=\"提供编辑建议\" title=\"提供编辑建议\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">mode_edit</i></a>\n</div>\n\n<div class=\"content\">\n\n  <h1 id=\"ng0910-unsafe-bindings-on-an-iframe-element\">NG0910: Unsafe bindings on an iframe element<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"errors/NG0910#ng0910-unsafe-bindings-on-an-iframe-element\"><i class=\"material-icons\">link</i></a></h1>\n\n  \n  \n\n  <div class=\"error-description\">\n    <h2 translation-result=\"on\" id=\"说明\">说明<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"errors/NG0910#说明\"><i class=\"material-icons\">link</i></a></h2>\n    <h2 translation-origin=\"off\" id=\"description\">Description<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"errors/NG0910#description\"><i class=\"material-icons\">link</i></a></h2>\n    <p translation-result=\"on\">当 Angular 检测到 <code>&lt;iframe&gt;</code> 元素上的 Attribute 绑定或 Property 绑定是如下名称时，你会看到此错误：</p><p translation-origin=\"off\">You see this error when Angular detects an attribute binding or a property binding on an <code>&lt;iframe&gt;</code> element using the following property names:</p>\n\n<ul>\n<li>sandbox</li>\n<li>allow</li>\n<li>allowFullscreen</li>\n<li>referrerPolicy</li>\n<li>csp</li>\n<li>fetchPriority</li>\n</ul>\n<p translation-result=\"on\">上面提到的这些属性会影响 <code>&lt;iframe&gt;</code> 的安全模型设置，并且要在设置 <code>src</code> 或 <code>srcdoc</code> 属性之前先应用它们，这很重要。为了确保这一点，Angular 要求在 <code>&lt;iframe&gt;</code> 上将这些属性设置为静态属性，因此这些值都是在元素创建时设置的，并且它们在 <code>&lt;iframe&gt;</code> 实例的整个生命周期中要保持不变。</p><p translation-origin=\"off\">The mentioned attributes affect the security model setup for <code>&lt;iframe&gt;</code>s\nand it's important to apply them before setting the <code>src</code> or <code>srcdoc</code> attributes.\nTo enforce that, Angular requires these attributes to be set on <code>&lt;iframe&gt;</code>s as\nstatic attributes, so the values are set at the element creation time and they\nremain the same throughout the lifetime of an <code>&lt;iframe&gt;</code> instance.</p>\n\n<p translation-result=\"on\">使用具有上述名称之一的 Property 绑定时，会抛出此错误：</p><p translation-origin=\"off\">The error is thrown when a property binding with one of the mentioned attribute names is used:</p>\n\n<code-example language=\"html\">\n&lt;iframe [sandbox]=\"'allow-scripts'\" src=\"...\"&gt;&lt;/iframe&gt;\n</code-example>\n<p translation-result=\"on\">或者当它是 Attribute 绑定时：</p><p translation-origin=\"off\">or when it's an attribute bindings:</p>\n\n<code-example language=\"html\">\n&lt;iframe [attr.sandbox]=\"'allow-scripts'\" src=\"...\"&gt;&lt;/iframe&gt;\n</code-example>\n<p translation-result=\"on\">此外，当在指令的宿主绑定中使用类似模式时，会抛出错误：</p><p translation-origin=\"off\">Also, the error is thrown when a similar pattern is used in Directive's host bindings:</p>\n\n<code-example language=\"typescript\">\n@<a href=\"api/core/Directive\" class=\"code-anchor\">Directive</a>({\n  selector: 'iframe',\n  host: {\n    '[sandbox]': `'allow-scripts'`,\n    '[attr.sandbox]': `'allow-scripts'`,\n  }\n})\nclass IframeDirective {}\n</code-example>\n\n  </div>\n\n\n  \n  <br>\n\n  <div class=\"debugging\">\n    <h2 translation-result=\"on\" id=\"如何排除本错误\">如何排除本错误<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"errors/NG0910#如何排除本错误\"><i class=\"material-icons\">link</i></a></h2>\n    <h2 translation-origin=\"off\" id=\"debugging-the-error\">Debugging the error<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"errors/NG0910#debugging-the-error\"><i class=\"material-icons\">link</i></a></h2>\n    <p translation-result=\"on\">此错误消息包含具有不安全绑定的 <code>&lt;iframe&gt;</code> 元素所在模板的组件名称。</p><p translation-origin=\"off\">The error message includes the name of the component with the template where\nan <code>&lt;iframe&gt;</code> element with unsafe bindings is located.</p>\n\n<p translation-result=\"on\">推荐的解决方案是把上述属性都用作静态属性，例如：</p><p translation-origin=\"off\">The recommended solution is to use the mentioned attributes as static ones, for example:</p>\n\n<code-example language=\"html\">\n&lt;iframe sandbox=\"allow-scripts\" src=\"...\"&gt;&lt;/iframe&gt;\n</code-example>\n<p translation-result=\"on\">如果你需要为这些 Attribute 设置不同的值（取决于各种条件），可以在 <code>&lt;iframe&gt;</code> 元素上使用 <code>*<a href=\"api/common/NgIf\" class=\"code-anchor\">ngIf</a></code> 或 <code>*<a href=\"api/common/NgSwitch\" class=\"code-anchor\">ngSwitch</a></code>：</p><p translation-origin=\"off\">If you need to have different values for these attributes (depending on various conditions),\nyou can use an <code>*<a href=\"api/common/NgIf\" class=\"code-anchor\">ngIf</a></code> or an <code>*<a href=\"api/common/NgSwitch\" class=\"code-anchor\">ngSwitch</a></code> on an <code>&lt;iframe&gt;</code> element:</p>\n\n<code-example language=\"html\">\n&lt;iframe *<a href=\"api/common/NgIf\" class=\"code-anchor\">ngIf</a>=\"someConditionA\" sandbox=\"allow-scripts\" src=\"...\"&gt;&lt;/iframe&gt;\n&lt;iframe *<a href=\"api/common/NgIf\" class=\"code-anchor\">ngIf</a>=\"someConditionB\" sandbox=\"allow-forms\" src=\"...\"&gt;&lt;/iframe&gt;\n&lt;iframe *<a href=\"api/common/NgIf\" class=\"code-anchor\">ngIf</a>=\"someConditionC\" sandbox=\"allow-popups\" src=\"...\"&gt;&lt;/iframe&gt;\n</code-example>\n<!-- links -->\n<!-- external links -->\n<!-- end links -->\n\n  </div>\n  \n</div>\n\n<!-- links to this doc:\n - errors\n-->\n<!-- links from this doc:\n - api/common/NgIf\n - api/common/NgSwitch\n - api/core/Directive\n - errors/NG0910#debugging-the-error\n - errors/NG0910#description\n - errors/NG0910#ng0910-unsafe-bindings-on-an-iframe-element\n - errors/NG0910#如何排除本错误\n - errors/NG0910#说明\n - https://github.com/ng-docs/angular-cn/edit/cn/aio/content/errors/NG0910.md?message=docs(...)%3A%20请简述你的修改...\n-->"}